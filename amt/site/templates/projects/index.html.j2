{% extends 'layouts/base.html.j2' %}
{% block content %}
    <div class="rvo-max-width-layout rvo-max-width-layout--md rvo-max-width-layout-inline-padding--none">
        <div class="rvo-content">
            <div class="amt-layout-grid rvo-layout-gap--md amt-layout-grid-columns--two">
                <div>
                    <h1 class="utrecht-heading-1">{% trans %}Projects{% endtrans %}</h1>
                </div>
                <div style="margin-left: auto">
                    <a data-navigation="button:/projects/new" href="/projects/new">
                        <button class="utrecht-button utrecht-button--primary-action utrecht-button--rvo-md"
                                type="button">{% trans %}New project{% endtrans %}</button>
                    </a>
                </div>
            </div>
            <fieldset class="utrecht-form-fieldset__fieldset utrecht-form-fieldset--html-fieldset">
                <div class="rvo-inline-form">
                    <div role="group"
                         aria-labelledby="fieldId-label"
                         class="utrecht-form-field utrecht-form-field--text rvo-form-field">
                        <form id="search-project-form">
                            <div class="form-input-container">
                                <input id="project-search-input"
                                       type="text"
                                       class="utrecht-textbox utrecht-textbox--html-input"
                                       dir="auto"
                                       value=""
                                       placeholder="{% trans %}Find project...{% endtrans %}"
                                       name="search"
                                       hx-get="/projects/?skip=0"
                                       hx-trigger="input changed delay:500ms, focus"
                                       hx-target="#project-search-results"
                                       hx-indicator=".htmx-indicator"
                                       hx-swap="innerHTML"
                                       autocomplete="off"
                                       onfocus="this.value=''" />
                                <span class="utrecht-icon rvo-icon rvo-icon-kruis rvo-icon--lg form-input-clear"
                                      role="img"
                                      aria-label="Kruis"
                                      hx-trigger="click"
                                      hx-get="/projects/?skip=0"
                                      hx-target="#project-search-results"
                                      hx-indicator=".htmx-indicator"
                                      hx-swap="innerHTML"
                                      onclick="document.getElementById('search-project-form').reset()"></span>
                            </div>
                        </form>
                    </div>
                </div>
            </fieldset>
            <ul class="rvo-item-list" id="project-search-results">
                {% include 'projects/_list.html.j2' %}
            </ul>
        </div>
    </div>
    <div id="errorContainer"></div>
{% endblock %}
