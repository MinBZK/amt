{% macro task_card(task) -%}
    <div class="progress_card_container" id="card-1">
        <h4 class="margin-bottom--extra-small">{{ task.title }}</h4>
        <div>{{ task.description }}</div>
        <div class="progress_card_assignees_container">
            <img class="progress_card_assignees_image" src="/static/images/img_avatar.png" alt="Assigned to Avatar"/>
        </div>
    </div>
{%- endmacro -%}

<!DOCTYPE html>
<html lang="en">
<head>
    <title>{{ page_title }}</title>
    <!-- TODO: decide if all files should be local, and if so, how to do versions management -->
    <script type="text/javascript" src="/static/js/sortable.js"></script>
    <script type="text/javascript" src="/static/js/hyperscript.min.js"></script>
    <script type="text/javascript" src="/static/js/test.js"></script>
    <script type="text/javascript" src="/static/js/htmx.min.js"></script>
    <script src="https://unpkg.com/htmx.org@1.9.12/dist/ext/json-enc.js"></script>
    <link rel="stylesheet" href="/static/css/html5reset.css"/>
    <link rel="stylesheet" href="/static/css/col.css"/>
    <link rel="stylesheet" href="/static/css/2cols.css"/>
    <link rel="stylesheet" href="/static/css/3cols.css"/>
    <link rel="stylesheet" href="/static/css/4cols.css"/>
    <link rel="stylesheet" href="/static/css/5cols.css"/>
    <link rel="stylesheet" href="/static/css/6cols.css"/>
    <link rel="stylesheet" href="/static/css/7cols.css"/>
    <link rel="stylesheet" href="/static/css/8cols.css"/>
    <link rel="stylesheet" href="/static/css/9cols.css"/>
    <link rel="stylesheet" href="/static/css/10cols.css"/>
    <link rel="stylesheet" href="/static/css/11cols.css"/>
    <link rel="stylesheet" href="/static/css/12cols.css"/>
    <link rel="stylesheet" href="/static/css/layout.css"/>
</head>
<body>
<header class="header">
    <div class="container">
        <div class="header_logo_container">
            <img class="header_logo_image" src="/static/images/logo.svg"/>
            <div class="header_subtitle_container">
                <span>Transparency of Algorithmic Decision making (TAD)</span>
            </div>
        </div>
    </div>
    <nav class="header_nav">
    </nav>
</header>
<div class="container" >
    <form id="cardMovedForm" hx-post="/cards/move" hx-ext="json-enc" hx-trigger="cardmoved" hx-target="#board" class="">
        <input id="fromList" type="hidden" name="from" value="board">
        <input id="toList" type="hidden" name="to" value="board">
        <input id="movedCard" type="hidden" name="movedCard" value="">
    </form>
    <div id="board">
        Placeholder for testing
    </div>
    <h1 class="margin-bottom--large">Project X</h1>
    <div class="section group" _="on end put event.from.id into #fromList.value put event.to.id into #toList.value put event.item.id into #movedCard.value then send cardmoved to #cardMovedForm">
        <div class="col span_1_of_4">
            <h3 class="text-center-horizontal margin-bottom--small">ToDo</h3>
            <div class="progress_cards_container" id="column-todo">
                {% for task in tasks %}
                    {{ task_card(task) }}
                {% endfor %}
            </div>
        </div>
        <div class="col span_1_of_4">
            <h3 class="text-center-horizontal margin-bottom--small">In progress</h3>
            <div class="progress_cards_container" id="column-in-progress">
            </div>
        </div>
        <div class="col span_1_of_4">
            <h3 class="text-center-horizontal margin-bottom--small">Review</h3>
            <div class="progress_cards_container">
            </div>
        </div>
        <div class="col span_1_of_4">
            <h3 class="text-center-horizontal margin-bottom--small">Done</h3>
            <div class="progress_cards_container">
            </div>
        </div>
    </div>
</div>

</body>
</html>
